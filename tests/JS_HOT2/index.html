<!DOCTYPE html>
<html lang="en">
<head>
   <!--
      JavaScript

      Author: 
      Date:   

      Filename: index.html
   -->
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
   <title>Hands-on Project 7-3</title>
   <link rel="stylesheet" href="styles.css">
   <script src="modernizr.custom.05819.js"></script>
</head>

<body>
   <header>
      <h1>
         Hands-on Test Chapter 4
      </h1>
   </header>

         <article> <h2 id="date">Tue Jul 24 2018</h2> <!-- Display the current date -->
               <h2>Steam Game Sale</h2>
            <form>
               <input type="checkbox" id="item1" value="19.99">
               <label for="item1">Counter Strike ($19.99)</label>
               <input type="checkbox" id="item2" value="29.99">
               <label for="item2">Dark Souls III ($29.99)</label>
               <input type="checkbox" id="item3" value="13.49">
               <label for="item3">Enter The Gungeon ($13.49)</label>
               <input type="checkbox" id="item4" value="4.99">
               <label for="item4">Hover Junkers ($4.99)</label>
               <input type="checkbox" id="item5" value="8.99"> <!-- Correct price -->
               <label for="item5">Good Robot ($8.99)</label>
               <input type="submit" value="Calculate" id="submitButton">
            </form>
               <table>
                  <colgroup>
                     <col class="label">
                     <col class="amount">
                  </colgroup>
                  <tbody>
                     <tr>
                        <td>Item total</td>
                        <td>0.00</td>
                     </tr>
                     <tr>
                        <td>Tax</td>
                        <td>0.00</td>
                     </tr>
                     <tr>
                        <td>Total with tax</td>
                        <td>$0.00</td>
                     </tr>
                  </tbody>
               </table>
            </article>
            <script src="modernizr.custom.05819.js">
"use strict";

// Function to simplify getting element by ID
const $ = (id) => document.getElementById(id);

// Function to add values of selected checkboxes and display total
function calcTotal() {
    var itemTotal = 0;
    var tax = 0;
    var totalWithTax = 0;
    var items = document.querySelectorAll("input[type='checkbox']:checked"); // Get all checked checkboxes
    var itemTotalCell = $("#itemTotal");
    var taxAmountCell = $("#taxAmount");
    var totalWithTaxCell = $("#totalWithTax");

    // Loop through selected checkboxes and sum their values
    items.forEach(function(item) {
        itemTotal += (parseFloat(item.value) || 0); // Ensure value is treated as a number
    });

    tax = itemTotal * 0.05; // Calculate 5% tax
    totalWithTax = itemTotal + tax; // Calculate total with tax

    itemTotalCell.innerHTML = (itemTotal / 100).toFixed(2);
    taxAmountCell.innerHTML = (tax / 100).toFixed(2);
    totalWithTaxCell.innerHTML = "$" + (totalWithTax / 100).toFixed(2);
}

// Add event listener to the Submit button
var submitButton = document.getElementById("sButton");
submitButton.addEventListener("click", calcTotal); // Corrected syntax

// Setting today's date
const today = new Date(); 
const dateString = today.toDateString(); 
$("#Tue Jul 24 2018").textContent = dateString;

</script>
</body>
</html> 